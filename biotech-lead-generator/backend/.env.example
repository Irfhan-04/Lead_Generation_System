# ============================================
# CORRECTED .env FILE FORMAT
# ============================================

# App Configuration
APP_NAME=Biotech Lead Generator API
DEBUG=True
SECRET_KEY=your-secret-key-here-generate-new-one

# IMPORTANT: Database URL Format
# Use postgresql+psycopg2:// (NOT just postgresql://)
# Get this from: Supabase Dashboard → Settings → Database → Connection String (URI)
# Replace [YOUR-PASSWORD] with your actual password

# CORRECT FORMAT:
DATABASE_URL=postgresql+psycopg2://postgres.dpzldplhzjuwfhiukyde:[YOUR-PASSWORD]@db.dpzldplhzjuwfhiukyde.supabase.co:5432/postgres

# NOT this (will fail):
# DATABASE_URL=postgresql://postgres.dpzldplhzjuwfhiukyde:[YOUR-PASSWORD]@...

# Supabase Configuration
SUPABASE_URL=https://dpzldplhzjuwfhiukyde.supabase.co
SUPABASE_KEY=your-anon-public-key
SUPABASE_SERVICE_KEY=your-service-role-key
SUPABASE_STORAGE_BUCKET=exports

# Redis/Upstash
REDIS_URL=redis://default:[YOUR-PASSWORD]@flying-seahorse-12345.upstash.io:6379
CELERY_BROKER_URL=${REDIS_URL}
CELERY_RESULT_BACKEND=${REDIS_URL}

# Email (Resend)
RESEND_API_KEY=re_xxxxxxxxxxxxx
RESEND_FROM_EMAIL=noreply@yourdomain.com

# Monitoring (Sentry)
SENTRY_DSN=
SENTRY_ENVIRONMENT=development

# External APIs
PUBMED_EMAIL=your-email@example.com
PUBMED_API_KEY=

# Optional APIs for enrichment
PROXYCURL_API_KEY=
HUNTER_API_KEY=
CLEARBIT_API_KEY=
CRUNCHBASE_API_KEY=

# CORS Origins (comma-separated)
BACKEND_CORS_ORIGINS=http://localhost:3000,http://localhost:8000

# ============================================
# QUICK TROUBLESHOOTING
# ============================================
#
# 1. PASSWORD WITH SPECIAL CHARACTERS?
#    Escape them: @ → %40, # → %23, $ → %24
#    Example: p@ss#123 → p%40ss%23123
#
# 2. GET YOUR CORRECT DATABASE_URL:
#    a) Go to Supabase Dashboard
#    b) Settings → Database
#    c) Connection String → URI
#    d) Copy and replace [YOUR-PASSWORD]
#    e) Change postgresql:// to postgresql+psycopg2://
#
# 3. TEST YOUR CONNECTION:
#    python scripts/test_db_direct.py
#
# ============================================