# ==============================================================================
# BIOTECH LEAD GENERATOR - BACKEND CONFIGURATION
# ==============================================================================
# APP CONFIGURATION
# ==============================================================================
APP_NAME="Biotech Lead Generator API"
APP_VERSION="2.0.0"
DEBUG=True

# Generate with: python -c "import secrets; print(secrets.token_urlsafe(32))"
SECRET_KEY=ea3a281751f9d26b0c2095edce7bb2c0dc67f75d22c446969241ddd96e48364a

ALGORITHM="HS256"
ACCESS_TOKEN_EXPIRE_MINUTES=1440
REFRESH_TOKEN_EXPIRE_MINUTES=10080

# ==============================================================================
# SERVER
# ==============================================================================
HOST="0.0.0.0"
PORT=8000
WORKERS=4

# ==============================================================================
# CORS (Add your frontend URLs, comma-separated)
# ==============================================================================
BACKEND_CORS_ORIGINS=["http://localhost:3000","http://localhost:8000","http://127.0.0.1:3000"]

# ==============================================================================
# SUPABASE (Database + Storage + Auth)
# ==============================================================================
# Get from: https://supabase.com/dashboard/project/_/settings/api
#
# Steps:
# 1. Create project at supabase.com
# 2. Go to Settings → API
# 3. Copy Project URL → paste as SUPABASE_URL
# 4. Copy anon/public key → paste as SUPABASE_KEY
# 5. Copy service_role key → paste as SUPABASE_SERVICE_KEY
# 6. Go to Settings → Database → Connection string → URI
# 7. Replace [YOUR-PASSWORD] with your database password
# ==============================================================================

SUPABASE_URL=https://dpzldplhzjuwfhiukyde.supabase.co
SUPABASE_KEY=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImRwemxkcGxoemp1d2ZoaXVreWRlIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NjcyNjM5MTQsImV4cCI6MjA4MjgzOTkxNH0.CutvOEzMPq8SeTgYov5ePx1_NnTqcsRsNF6C7y6XUlI
SUPABASE_SERVICE_KEY=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImRwemxkcGxoemp1d2ZoaXVreWRlIiwicm9sZSI6InNlcnZpY2Vfcm9sZSIsImlhdCI6MTc2NzI2MzkxNCwiZXhwIjoyMDgyODM5OTE0fQ.Qk0PE5H0lWKL8jF6Lxl6SdMRapuw3W41708caOJZ_iU

# IMPORTANT: Replace [YOUR-PASSWORD] with your actual database password!
DATABASE_URL=postgresql+psycopg2://postgres.dpzldplhzjuwfhiukyde:amzyUxtCJu1M2hQ8@db.dpzldplhzjuwfhiukyde.supabase.co:5432/postgres

# Storage bucket (create in Supabase → Storage → Create bucket "exports")
SUPABASE_STORAGE_BUCKET=exports

# Database pool settings (keep defaults)
DATABASE_POOL_SIZE=10
DATABASE_MAX_OVERFLOW=20
DATABASE_POOL_TIMEOUT=30

# ==============================================================================
# UPSTASH REDIS (Cache + Sessions + Celery)
# ==============================================================================
# Get from: https://console.upstash.com/redis
#
# Steps:
# 1. Sign up at upstash.com
# 2. Create Redis database (Regional, free tier)
# 3. Copy the Redis URL (starts with redis://)
# ==============================================================================

REDIS_URL=redis://default:ASBsAAImcDIzYWNmNDc4NWJjOTI0YzI3YjEzZWUwNmQ1ZDk1MThmMHAyODMwMA@glowing-gelding-8300.upstash.io:6379

# Celery uses same Redis
CELERY_BROKER_URL=redis://default:ASBsAAImcDIzYWNmNDc4NWJjOTI0YzI3YjEzZWUwNmQ1ZDk1MThmMHAyODMwMA@glowing-gelding-8300.upstash.io:6379
CELERY_RESULT_BACKEND=redis://default:ASBsAAImcDIzYWNmNDc4NWJjOTI0YzI3YjEzZWUwNmQ1ZDk1MThmMHAyODMwMA@glowing-gelding-8300.upstash.io:6379

# Cache TTL settings (in seconds)
REDIS_CACHE_TTL=3600        # 1 hour
REDIS_SESSION_TTL=86400     # 24 hours

# ==============================================================================
# RESEND (Email Sending)
# ==============================================================================
# Get from: https://resend.com/api-keys
#
# Steps:
# 1. Sign up at resend.com
# 2. Go to API Keys
# 3. Create new API key
# 4. For testing, use: onboarding@resend.dev
# 5. For production, add your domain first
# ==============================================================================

RESEND_API_KEY=re_AiZeRM2M_AB4bB7J3WNAPXmTNZ3b2F5Vd

# For testing (no domain needed):
RESEND_FROM_EMAIL=onboarding@resend.dev

# For production (after verifying your domain):
# RESEND_FROM_EMAIL="noreply@yourdomain.com"

# ==============================================================================
# SENTRY (Error Tracking) - OPTIONAL
# ==============================================================================
# Get from: https://sentry.io/settings/projects/
#
# Steps:
# 1. Sign up at sentry.io (5000 events/month free)
# 2. Create new project (Python)
# 3. Copy DSN
# 4. Leave blank if you don't want error tracking
# ==============================================================================

SENTRY_DSN=https://a0d28e7bd9c322e7ce9edbfc58ea6535@o4510641041244160.ingest.de.sentry.io/4510641084170320
SENTRY_ENVIRONMENT=development
SENTRY_TRACES_SAMPLE_RATE=0.1

# To disable Sentry, leave DSN empty:
# SENTRY_DSN=""

# ==============================================================================
# EXTERNAL APIs - ALL OPTIONAL
# ==============================================================================
# These add extra features but app works without them
# ==============================================================================

# ------------------------------------------------------------------------------
# PubMed / NCBI (FREE - Highly Recommended)
# ------------------------------------------------------------------------------
# No API key required, just provide your email
# API key is optional - only for higher rate limits (10 requests/sec instead of 3)
#
# Get API key from: https://www.ncbi.nlm.nih.gov/account/settings/
# ------------------------------------------------------------------------------

PUBMED_EMAIL="your.email@example.com"
PUBMED_API_KEY=""

# ------------------------------------------------------------------------------
# Proxycurl (LinkedIn Data) - OPTIONAL
# ------------------------------------------------------------------------------
# Cost: 100 free credits on signup, then $99/month
# Use: Get LinkedIn profile data without scraping
#
# Get from: https://nubela.co/proxycurl/
# Skip for MVP - can add later
# ------------------------------------------------------------------------------

#PROXYCURL_API_KEY=""

# ------------------------------------------------------------------------------
# Hunter.io (Email Finding) - OPTIONAL
# ------------------------------------------------------------------------------
# Cost: 25 free searches/month, then $49/month
# Use: Find email addresses for leads
#
# Get from: https://hunter.io/api-keys
# Skip for MVP - can add later
# ------------------------------------------------------------------------------

#HUNTER_API_KEY=""

# ------------------------------------------------------------------------------
# Clearbit (Company Data) - OPTIONAL
# ------------------------------------------------------------------------------
# Cost: 50 free requests/month, then $99/month
# Use: Enrich company information
#
# Get from: https://clearbit.com/
# Skip for MVP - can add later
# ------------------------------------------------------------------------------

#CLEARBIT_API_KEY=""

# ------------------------------------------------------------------------------
# Crunchbase (Funding Data) - OPTIONAL
# ------------------------------------------------------------------------------
# Cost: Limited free tier, then $29/month
# Use: Get company funding information
#
# Get from: https://data.crunchbase.com/
# Skip for MVP - limited value on free tier
# ------------------------------------------------------------------------------

#CRUNCHBASE_API_KEY=""

# ==============================================================================
# RATE LIMITING
# ==============================================================================
# Protect your API from abuse
# ==============================================================================

RATE_LIMIT_PER_MINUTE=60
RATE_LIMIT_PER_HOUR=1000

# ==============================================================================
# SUBSCRIPTION LIMITS
# ==============================================================================
# Control usage per subscription tier
# ==============================================================================

FREE_TIER_LEADS_PER_MONTH=100
PRO_TIER_LEADS_PER_MONTH=1000
TEAM_TIER_LEADS_PER_MONTH=5000

# ==============================================================================
# SCORING ALGORITHM DEFAULTS
# ==============================================================================
# Default weights for lead scoring (must sum to 100)
# ==============================================================================

DEFAULT_ROLE_WEIGHT=30
DEFAULT_PUBLICATION_WEIGHT=40
DEFAULT_FUNDING_WEIGHT=20
DEFAULT_LOCATION_WEIGHT=10

# ==============================================================================
# FEATURE FLAGS
# ==============================================================================
# Enable/disable features
# ==============================================================================

ENABLE_ML_SCORING=False                 # ML-based scoring (coming in Phase 2.5)
ENABLE_EMAIL_NOTIFICATIONS=True         # Send email notifications
ENABLE_WEBHOOKS=True                    # Webhook support
ENABLE_BACKGROUND_JOBS=True             # Celery background jobs

# ==============================================================================
# LOGGING
# ==============================================================================
# Configure application logging
# ==============================================================================

LOG_LEVEL=INFO        # DEBUG, INFO, WARNING, ERROR, CRITICAL
LOG_FORMAT=json       # "json" for production, "text" for development